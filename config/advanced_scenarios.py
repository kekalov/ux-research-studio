"""
Advanced Scenarios - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏
"""

def get_advanced_scenarios():
    """–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏"""
    
    return {
        'sochi_ski_premium': {
            'name': '–ì–æ—Ä–Ω–æ–ª—ã–∂–Ω—ã–π –æ—Ç–¥—ã—Ö –≤ –°–æ—á–∏ (–ü—Ä–µ–º–∏—É–º)',
            'destination': '–°–æ—á–∏',
            'check_in': '2024-12-20',
            'check_out': '2024-12-27',
            'guests': 2,
            'rooms': 1,
            'description': '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–µ–ª—å –≤ –°–æ—á–∏ –Ω–∞ –∑–∏–º–Ω–∏–π –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω—ã–π –ø–µ—Ä–∏–æ–¥',
            'requirements': {
                'stars': '4+ –∑–≤–µ–∑–¥—ã',
                'distance_to_lift': '–Ω–µ –¥–∞–ª—å—à–µ 2 –∫–º –æ—Ç –ø–æ–¥—ä–µ–º–Ω–∏–∫–∞',
                'cancellation': '–±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –æ—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è',
                'price_limit': '–¥–æ 10 000 —Ä—É–±–ª–µ–π –∑–∞ –Ω–æ—á—å',
                'ski_storage': True,
                'ski_equipment': False,  # –ë—É–¥–µ–º –±—Ä–∞—Ç—å —Å–≤–æ–µ
                'restaurant': True,
                'spa': True,
                'transfer_to_lift': True
            },
            'search_strategy': [
                '–ü–æ–∏—Å–∫ –æ—Ç–µ–ª–µ–π 4-5 –∑–≤–µ–∑–¥ –≤ –°–æ—á–∏',
                '–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é –¥–æ –ø–æ–¥—ä–µ–º–Ω–∏–∫–∞ (–¥–æ 2 –∫–º)',
                '–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞—Ä–∏—Ñ–æ–≤ —Å –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –æ—Ç–º–µ–Ω–æ–π',
                '–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ü–µ–Ω–µ (–¥–æ 10 000 —Ä—É–±/–Ω–æ—á—å)',
                '–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ª—ã–∂–µ—Ö—Ä–∞–Ω–∏–ª–∏—â–∞',
                '–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–∞ –∫ –ø–æ–¥—ä–µ–º–Ω–∏–∫—É'
            ],
            'persona': 'ski_enthusiast'
        },
        
        'andorra_luxury_ski': {
            'name': '–õ—é–∫—Å–æ–≤—ã–π –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω—ã–π –æ—Ç–¥—ã—Ö –≤ –ê–Ω–¥–æ—Ä—Ä–µ',
            'destination': '–ê–Ω–¥–æ—Ä—Ä–∞',
            'check_in': '2024-12-25',
            'check_out': '2025-01-02',
            'guests': 2,
            'rooms': 1,
            'description': '–ü—Ä–µ–º–∏—É–º –æ—Ç–µ–ª—å –≤ –ê–Ω–¥–æ—Ä—Ä–µ –¥–ª—è –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞',
            'requirements': {
                'stars': '5 –∑–≤–µ–∑–¥',
                'distance_to_lift': 'ski-in/ski-out –∏–ª–∏ –¥–æ 500–º',
                'cancellation': '–±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –æ—Ç–º–µ–Ω–∞',
                'price_limit': '–¥–æ 25 000 —Ä—É–±–ª–µ–π –∑–∞ –Ω–æ—á—å',
                'ski_storage': True,
                'ski_equipment': True,
                'restaurant': True,
                'spa': True,
                'pool': True,
                'transfer_to_lift': True
            },
            'search_strategy': [
                '–ü–æ–∏—Å–∫ 5-–∑–≤–µ–∑–¥–æ—á–Ω—ã—Ö –æ—Ç–µ–ª–µ–π –≤ –ê–Ω–¥–æ—Ä—Ä–µ',
                '–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ ski-in/ski-out',
                '–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è',
                '–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ü–µ–Ω–µ (–¥–æ 25 000 —Ä—É–±/–Ω–æ—á—å)',
                '–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–∞ –∏ –±–∞—Å—Å–µ–π–Ω–∞'
            ],
            'persona': 'luxury_ski_traveler'
        },
        
        'budget_ski_sochi': {
            'name': '–ë—é–¥–∂–µ—Ç–Ω—ã–π –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω—ã–π –æ—Ç–¥—ã—Ö –≤ –°–æ—á–∏',
            'destination': '–°–æ—á–∏',
            'check_in': '2025-01-15',
            'check_out': '2025-01-22',
            'guests': 2,
            'rooms': 1,
            'description': '–≠–∫–æ–Ω–æ–º–∏—á–Ω—ã–π –æ—Ç–µ–ª—å –¥–ª—è –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞',
            'requirements': {
                'stars': '3+ –∑–≤–µ–∑–¥—ã',
                'distance_to_lift': '–¥–æ 5 –∫–º –æ—Ç –ø–æ–¥—ä–µ–º–Ω–∏–∫–∞',
                'cancellation': '–≥–∏–±–∫–∞—è –æ—Ç–º–µ–Ω–∞',
                'price_limit': '–¥–æ 5 000 —Ä—É–±–ª–µ–π –∑–∞ –Ω–æ—á—å',
                'ski_storage': True,
                'ski_equipment': False,
                'restaurant': False,
                'spa': False,
                'transfer_to_lift': False
            },
            'search_strategy': [
                '–ü–æ–∏—Å–∫ –æ—Ç–µ–ª–µ–π 3-4 –∑–≤–µ–∑–¥—ã –≤ –°–æ—á–∏',
                '–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ü–µ–Ω–µ (–¥–æ 5 000 —Ä—É–±/–Ω–æ—á—å)',
                '–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞',
                '–ü–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–∏—Ö –∫–∞—Ñ–µ –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤'
            ],
            'persona': 'budget_ski_traveler'
        }
    }

def get_ski_personas():
    """–ü–µ—Ä—Å–æ–Ω–∞–∂–∏ –¥–ª—è –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞"""
    
    return {
        'ski_enthusiast': {
            'name': '–ú–∏—Ö–∞–∏–ª, 32 –≥–æ–¥–∞ - –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω–∏–∫-—ç–Ω—Ç—É–∑–∏–∞—Å—Ç',
            'goals': [
                '–Ω–∞–π—Ç–∏ –æ—Ç–µ–ª—å —Ä—è–¥–æ–º —Å –ø–æ–¥—ä–µ–º–Ω–∏–∫–æ–º',
                '–ø–æ–ª—É—á–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ',
                '–∏–º–µ—Ç—å —É–¥–æ–±–Ω–æ–µ –ª—ã–∂–µ—Ö—Ä–∞–Ω–∏–ª–∏—â–µ',
                '–Ω–∞–π—Ç–∏ —Ç–∞—Ä–∏—Ñ —Å –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –æ—Ç–º–µ–Ω–æ–π'
            ],
            'pain_points': [
                '–¥–∞–ª–µ–∫–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —Å–∫–ª–æ–Ω–æ–≤',
                '–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª—ã–∂–µ—Ö—Ä–∞–Ω–∏–ª–∏—â–∞',
                '–∂–µ—Å—Ç–∫–∏–µ —É—Å–ª–æ–≤–∏—è –æ—Ç–º–µ–Ω—ã',
                '–≤—ã—Å–æ–∫–∏–µ —Ü–µ–Ω—ã'
            ],
            'priorities': ['–£–¥–æ–±—Å—Ç–≤–æ', '–ö–∞—á–µ—Å—Ç–≤–æ', '–ì–∏–±–∫–æ—Å—Ç—å'],
            'tolerance': '–°—Ä–µ–¥–Ω—è—è',
            'typical_rating': '6-8/10'
        },
        
        'luxury_ski_traveler': {
            'name': '–ï–ª–µ–Ω–∞, 38 –ª–µ—Ç - –ª—é–∫—Å–æ–≤—ã–π –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω–∏–∫',
            'goals': [
                'ski-in/ski-out –æ—Ç–µ–ª—å',
                '–≤–∫–ª—é—á–µ–Ω–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ',
                '—Å–ø–∞ –∏ –±–∞—Å—Å–µ–π–Ω',
                '–≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Å–µ—Ä–≤–∏—Å–∞'
            ],
            'pain_points': [
                '–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ ski-in/ski-out',
                '–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏',
                '–ø–ª–æ—Ö–æ–π —Å–µ—Ä–≤–∏—Å',
                '–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–ø–∞'
            ],
            'priorities': ['–ö–æ–º—Ñ–æ—Ä—Ç', '–°–µ—Ä–≤–∏—Å', '–ö–∞—á–µ—Å—Ç–≤–æ'],
            'tolerance': '–ù–∏–∑–∫–∞—è',
            'typical_rating': '7-9/10'
        },
        
        'budget_ski_traveler': {
            'name': '–ê–Ω—Ç–æ–Ω, 25 –ª–µ—Ç - –±—é–¥–∂–µ—Ç–Ω—ã–π –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω–∏–∫',
            'goals': [
                '–¥–µ—à–µ–≤—ã–π –æ—Ç–µ–ª—å',
                '–±–ª–∏–∑–∫–æ –∫ —Å–∫–ª–æ–Ω–∞–º',
                '–±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞',
                '—ç–∫–æ–Ω–æ–º–∏—è –Ω–∞ –≤—Å–µ–º'
            ],
            'pain_points': [
                '–≤—ã—Å–æ–∫–∏–µ —Ü–µ–Ω—ã',
                '–¥–∞–ª–µ–∫–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ',
                '–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞',
                '—Å–∫—Ä—ã—Ç—ã–µ –¥–æ–ø–ª–∞—Ç—ã'
            ],
            'priorities': ['–¶–µ–Ω–∞', '–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ', '–ü—Ä–æ—Å—Ç–æ—Ç–∞'],
            'tolerance': '–í—ã—Å–æ–∫–∞—è',
            'typical_rating': '4-6/10'
        }
    }

def get_enhanced_search_prompt(scenario_name):
    """–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞"""
    
    scenarios = get_advanced_scenarios()
    scenario = scenarios.get(scenario_name, {})
    
    if not scenario:
        return "–ë–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫ –æ—Ç–µ–ª—è"
    
    requirements = scenario.get('requirements', {})
    strategy = scenario.get('search_strategy', [])
    
    prompt = f"""
üéø –†–ê–°–®–ò–†–ï–ù–ù–´–ô –ü–û–ò–°–ö: {scenario['name']}

üìç –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: {scenario['destination']}
üìÖ –î–∞—Ç—ã: {scenario['check_in']} - {scenario['check_out']}
üë• –ì–æ—Å—Ç–∏: {scenario['guests']} —á–µ–ª–æ–≤–µ–∫–∞, {scenario['rooms']} –∫–æ–º–Ω–∞—Ç–∞

üéØ –¢–†–ï–ë–û–í–ê–ù–ò–Ø:
‚Ä¢ –ó–≤–µ–∑–¥—ã: {requirements.get('stars', '–õ—é–±—ã–µ')}
‚Ä¢ –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –ø–æ–¥—ä–µ–º–Ω–∏–∫–∞: {requirements.get('distance_to_lift', '–õ—é–±–æ–µ')}
‚Ä¢ –û—Ç–º–µ–Ω–∞: {requirements.get('cancellation', '–õ—é–±–∞—è')}
‚Ä¢ –¶–µ–Ω–∞: {requirements.get('price_limit', '–õ—é–±–∞—è')}
‚Ä¢ –õ—ã–∂–µ—Ö—Ä–∞–Ω–∏–ª–∏—â–µ: {'–î–∞' if requirements.get('ski_storage') else '–ù–µ—Ç'}
‚Ä¢ –¢—Ä–∞–Ω—Å—Ñ–µ—Ä –∫ –ø–æ–¥—ä–µ–º–Ω–∏–∫—É: {'–î–∞' if requirements.get('transfer_to_lift') else '–ù–µ—Ç'}

üîç –°–¢–†–ê–¢–ï–ì–ò–Ø –ü–û–ò–°–ö–ê:
"""
    
    for i, step in enumerate(strategy, 1):
        prompt += f"{i}. {step}\n"
    
    prompt += f"""
üí° –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ü–†–û–í–ï–†–ö–ò:
‚Ä¢ –ù–∞–ª–∏—á–∏–µ –æ—Ç–∑—ã–≤–æ–≤ –æ –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ
‚Ä¢ –ö–∞—á–µ—Å—Ç–≤–æ –ª—ã–∂–µ—Ö—Ä–∞–Ω–∏–ª–∏—â–∞
‚Ä¢ –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –ø–æ–¥—ä–µ–º–Ω–∏–∫–∞
‚Ä¢ –ù–∞–ª–∏—á–∏–µ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–∞
‚Ä¢ –£—Å–ª–æ–≤–∏—è –æ—Ç–º–µ–Ω—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚Ä¢ –í–∫–ª—é—á–µ–Ω–Ω—ã–µ —É—Å–ª—É–≥–∏

üéØ –¶–ï–õ–¨: –ù–∞–π—Ç–∏ –∏–¥–µ–∞–ª—å–Ω—ã–π –æ—Ç–µ–ª—å –¥–ª—è –≥–æ—Ä–Ω–æ–ª—ã–∂–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞ —Å–æ–≥–ª–∞—Å–Ω–æ –≤—Å–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.
"""
    
    return prompt


